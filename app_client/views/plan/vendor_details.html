<div ng-controller="GeneralPageController">
  <div class="mdl-card full-width">
    <div class="mdl-card__title p-b-0" style="padding-bottom: 0;">
      <span class="mdl-card__title-text">My Vendors</span>
    </div>
    <div class="mdl-card__supporting-text full-width">
      <div class="row">
        <div class="col-xs-12 col-md-8">
          <form action="#">
            <div layout="row">
              <label class="mdl-button mdl-js-button mdl-button--icon" for="vendorSearch" style="margin-top: 18px;">
                <i class="material-icons">search</i>
              </label>
              <md-input-container flex="33" style="min-width: 300px; margin-bottom: 0;">
                <label>Search Clients...</label>
                <input ng-model="searchText" type="text" id="vendorSearch">
              </md-input-container>        
            </div>
          </form>
          <table class="mdl-data-table mdl-js-data-table full-width" style="max-width: 650px;">
            <thead>
              <tr>
                <th style="width: 25px;">Edit</th>
                <th class="mdl-data-table__cell--non-numeric">Business Name</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>
                  <a class="material-icons mdl-color-text--blue-400 no-underline">library_books</a>
                </td>
                <td class="mdl-data-table__cell--non-numeric">{ business.vendor.name }</td>
              </tr>
            </tbody>
          </table>        
        </div>
        <div class="col-md-4 hidden-sm-down m-t-2" style="margin-top: 30px;">
          <div class="mdl-card mdl-shadow--2dp full-width" style="margin-bottom: 30px; min-height: 0;">
            <div class="mdl-card__title mdl-card--border" style="padding-bottom: 0;">
              <span class="mdl-card__title-text">Preferred Vendors</span>
            </div>
            <div class="mdl-card__supporting-text full-width" style="padding: 0;">
              <li class="mdl-list__item">
                <a class="mdl-list__item-primary-content mdl-color-text--grey-700">
                  { business.vendor.name }
                </a>
              </li>          
            </div>
          </div>
          <div class="mdl-card mdl-shadow--2dp full-width" style="min-height: 0;">
            <div class="mdl-card__title mdl-card--border" style="padding-bottom: 0;">
              <span class="mdl-card__title-text mdl-color-text--grey-400">Vendly Preferred Vendors</span>
            </div>
            <div class="mdl-card__supporting-text full-width" style="padding: 0;">
              <li class="mdl-list__item">
                <a class="mdl-list__item-primary-content mdl-color-text--blue-grey-200">
                  { business.vendor.name }<sup>*</sup>
                </a>
              </li>          
            </div>
            <div class="mdl-card__actions full-width" style="padding: 0 10px 0; text-align: right;">
              <span class="mdl-typography--caption mdl-color-text--grey"><em><sup>*</sup>Sponsored</em></span>
            </div>
          </div>
        </div>
      </div>      
    </div>
    <div class="mdl-card__menu">
      <button data-target="#add_vendor" data-toggle="modal" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--raised mdl-color-text--blue">Add Vendor</button>
    </div>
  </div>
</div>

<!-- Add Vendor Modal -->
<div id="add_vendor" class="modal full-width" style="background-color: rgba(100, 100, 100, .35); position: fixed;" role="dialog">
      <div class="mdl-card mdl-shadow--8dp full-width" style="margin: 150px auto; max-width: 650px;">
        <div class="mdl-card__title mdl-card--border mdl-color--blue mdl-color-text--white">
          <span class="mdl-card__title-text">Add Vendor</span>
        </div>
        <div class="mdl-card__supporting-text full-width">
          <form ng-submit="onVendorSubmit()" style="padding-top: 10px;">
            <div layout="row">
              <md-input-container flex="40" style="margin-bottom: 0;">
                <label>State</label>
                <md-select ng-model="user.state">
                  <md-option value="" disabled selected>State</md-option>
                  <md-option value="AL">Alabama</md-option>
                  <md-option value="AK">Alaska</md-option>
                  <md-option value="AZ">Arizona</md-option>
                  <md-option value="AR">Arkansas</md-option>
                  <md-option value="CA">California</md-option>
                  <md-option value="CO">Colorado</md-option>
                  <md-option value="CT">Connecticut</md-option>
                  <md-option value="DE">Delaware</md-option>
                  <md-option value="DC">District Of Columbia</md-option>
                  <md-option value="FL">Florida</md-option>
                  <md-option value="GA">Georgia</md-option>
                  <md-option value="HI">Hawaii</md-option>
                  <md-option value="ID">Idaho</md-option>
                  <md-option value="IL">Illinois</md-option>
                  <md-option value="IN">Indiana</md-option>
                  <md-option value="IA">Iowa</md-option>
                  <md-option value="KS">Kansas</md-option>
                  <md-option value="KY">Kentucky</md-option>
                  <md-option value="LA">Louisiana</md-option>
                  <md-option value="ME">Maine</md-option>
                  <md-option value="MD">Maryland</md-option>
                  <md-option value="MA">Massachusetts</md-option>
                  <md-option value="MI">Michigan</md-option>
                  <md-option value="MN">Minnesota</md-option>
                  <md-option value="MS">Mississippi</md-option>
                  <md-option value="MO">Missouri</md-option>
                  <md-option value="MT">Montana</md-option>
                  <md-option value="NE">Nebraska</md-option>
                  <md-option value="NV">Nevada</md-option>
                  <md-option value="NH">New Hampshire</md-option>
                  <md-option value="NJ">New Jersey</md-option>
                  <md-option value="NM">New Mexico</md-option>
                  <md-option value="NY">New York</md-option>
                  <md-option value="NC">North Carolina</md-option>
                  <md-option value="ND">North Dakota</md-option>
                  <md-option value="OH">Ohio</md-option>
                  <md-option value="OK">Oklahoma</md-option>
                  <md-option value="OR">Oregon</md-option>
                  <md-option value="PA">Pennsylvania</md-option>
                  <md-option value="RI">Rhode Island</md-option>
                  <md-option value="SC">South Carolina</md-option>
                  <md-option value="SD">South Dakota</md-option>
                  <md-option value="TN">Tennessee</md-option>
                  <md-option value="TX">Texas</md-option>
                  <md-option value="UT">Utah</md-option>
                  <md-option value="VT">Vermont</md-option>
                  <md-option value="VA">Virginia</md-option>
                  <md-option value="WA">Washington</md-option>
                  <md-option value="WV">West Virginia</md-option>
                  <md-option value="WI">Wisconsin</md-option>
                  <md-option value="WY">Wyoming</md-option>
                </md-select>
              </md-input-container>
              <md-input-container flex="60" style="margin-bottom: 0;">
                <label>City</label>
                <input ng-model="">
              </md-input-container>
              <!-- User must input city & state before searching -->
            </div>
            <div layout="row">
              <md-autocomplete flex required
                md-input-name="autocompleteField"
                md-input-minlength="2"
                md-no-cache="ctrl.noCache"
                md-selected-item="ctrl.selectedItem"
                md-search-text="ctrl.searchText"
                md-items="item in ctrl.querySearch(ctrl.searchText)"
                md-item-text="item.display"
                md-require-match
                md-floating-label="Vendor">
              <md-item-template>
                <span md-highlight-text="ctrl.searchText">{{item.display}}</span>
              </md-item-template>
              <md-not-found>
                No vendors matching "{{ctrl.searchText}}" were found.
                <a ng-click="ctrl.newVendor(ctrl.searchText)">Create a new one!</a>
              </md-not-found>
              <div ng-messages="searchForm.autocompleteField.$error" ng-if="searchForm.autocompleteField.$touched">
                <div ng-message="required">You <b>must</b> select a vendor.</div>
              </div>
            </md-autocomplete>
            </div>
            <div style="float: right; padding: 30px 0 5px;">
              <button data-dismiss="modal" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--raised" style="margin: 0 4px;">Cancel</button>
              <button type="submit" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--raised mdl-color--blue mdl-color-text--white" style="margin: 0 4px;">Add Vendor</button>                        
            </div>
          </form>
        </div>
      </div>
    </div>
